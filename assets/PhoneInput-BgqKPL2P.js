"use client";
import{r as v,j as f}from"./iframe-DzGEYPXT.js";import{a as U,c as E}from"./colorUtils-CzaG3QqU.js";import{a as z,T as A}from"./designTokens-DumaUFqK.js";import{u as B}from"./FormFieldContext-CL_OIXiv.js";import{L as K}from"./Label-Bv9lDuhv.js";import{u as M}from"./useUIColor-Oew3m0TN.js";const S=m=>{if(m===void 0)return"";const s=m.replace(/\D/g,"");return s.length===0?"":s.length<=2?`(${s}`:s.length<=5?`(${s.slice(0,3)}) ${s.slice(3)}`:`(${s.slice(0,3)}) ${s.slice(3,6)}-${s.slice(6,10)}`},G={xs:"cs:px-1.5 cs:py-0.5 cs:text-[0.625rem] cs:h-5 cs:max-md:text-base cs:max-md:min-h-11",sm:"cs:px-2 cs:py-1 cs:text-xs cs:h-6 cs:max-md:text-base cs:max-md:min-h-11",md:"cs:px-3 cs:py-1.5 cs:text-sm/6 cs:h-9 cs:max-md:text-base cs:max-md:min-h-11",lg:"cs:px-4 cs:py-2 cs:text-base cs:h-11"};function H({label:m,scale:s="md",color:$="blue",require:R=!1,isInvalid:D=!1,value:g,onChange:t,id:N,className:y="",...x}){const q=v.useId(),e=B(),b=N??(e==null?void 0:e.id)??q,p=v.useRef(null),{color:P}=M()??{color:void 0},j=U(P??$),w=D||(e==null?void 0:e.isInvalid)||!1,V=x.disabled||(e==null?void 0:e.isDisabled)||!1,I=s??(e==null?void 0:e.scale)??"md",C=e?[e.errorId,e.helpId].join(" "):void 0,_=E(j),L=v.useCallback(i=>{const d=i.currentTarget,l=d.value,n=d.selectionStart||0,r=l.replace(/\D/g,"").slice(0,10),c=S(r);let o=0;for(let u=0;u<n;u++)/\d/.test(l[u])&&o++;let a=0,T=0;for(;a<c.length&&T<o;)/\d/.test(c[a])&&T++,a++;for(;a<c.length&&/[)\s-]/.test(c[a]);)a++;t==null||t(r),setTimeout(()=>{var u;(u=p.current)==null||u.setSelectionRange(a,a)},0)},[t]),O=v.useCallback(i=>{if(i.key==="Backspace"){const d=i.currentTarget,l=d.selectionStart??0,n=d.value;if(l>0&&[")","-"].includes(n[l-1])){i.preventDefault();const r=l-1,o=(n.slice(0,r-1)+n.slice(l)).replace(/\D/g,"");t==null||t(o.slice(0,10)),setTimeout(()=>{var a;(a=p.current)==null||a.setSelectionRange(r-1,r-1)},0)}if(l>0&&n[l-1]===" "&&n[l-2]===")"){i.preventDefault();const r=l-2,o=(n.slice(0,r-1)+n.slice(l)).replace(/\D/g,"");t==null||t(o.slice(0,10)),setTimeout(()=>{var a;(a=p.current)==null||a.setSelectionRange(r-1,r-1)},0)}}},[t]),h=`cs:border-0 cs:shadow-none cs:block cs:rounded-md cs:disabled:bg-gray-100 cs:disabled:text-gray-400 cs:dark:disabled:bg-gray-700 cs:dark:disabled:text-gray-500 cs:font-sans cs:outline-1 cs:-outline-offset-1 cs:placeholder:text-gray-400 cs:dark:bg-gray-800 cs:dark:text-gray-400 ${z} ${A} ${w?"cs:text-red-400 cs:bg-red-100/50 cs:outline-red-300 cs:dark:bg-red-200 cs:dark:text-red-500":"cs:text-gray-900 cs:bg-white cs:dark:bg-gray-800 cs:outline-gray-300 cs:dark:outline-gray-600"} ${G[I]} cs-focus-visible`,k={ref:p,id:b,type:"tel","aria-invalid":w||void 0,"aria-describedby":C,disabled:V||void 0,value:g?S(String(g)):"",onChange:L,onKeyDown:O,placeholder:"(123) 456-7890",maxLength:16,style:_,...x};return m?f.jsxs("div",{children:[f.jsx(K,{htmlFor:b,text:m,scale:I,className:"cs:ml-2",require:R}),f.jsx("input",{...k,className:`cs:w-full ${h} ${y}`})]}):f.jsx("input",{...k,className:`${h} ${y}`})}H.__docgenInfo={description:"",methods:[],displayName:"PhoneInput",props:{label:{required:!1,tsType:{name:"string"},description:""},scale:{required:!1,tsType:{name:"union",raw:'"xs" | "sm" | "md" | "lg"',elements:[{name:"literal",value:'"xs"'},{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}]},description:"",defaultValue:{value:'"md"',computed:!1}},color:{required:!1,tsType:{name:"union",raw:"PresetColor | CustomColor | SemanticColor",elements:[{name:"union",raw:`| "red"
| "orange"
| "amber"
| "yellow"
| "lime"
| "green"
| "emerald"
| "teal"
| "cyan"
| "sky"
| "blue"
| "indigo"
| "violet"
| "purple"
| "fuchsia"
| "pink"
| "rose"
| "slate"
| "gray"
| "zinc"
| "neutral"
| "stone"`,elements:[{name:"literal",value:'"red"'},{name:"literal",value:'"orange"'},{name:"literal",value:'"amber"'},{name:"literal",value:'"yellow"'},{name:"literal",value:'"lime"'},{name:"literal",value:'"green"'},{name:"literal",value:'"emerald"'},{name:"literal",value:'"teal"'},{name:"literal",value:'"cyan"'},{name:"literal",value:'"sky"'},{name:"literal",value:'"blue"'},{name:"literal",value:'"indigo"'},{name:"literal",value:'"violet"'},{name:"literal",value:'"purple"'},{name:"literal",value:'"fuchsia"'},{name:"literal",value:'"pink"'},{name:"literal",value:'"rose"'},{name:"literal",value:'"slate"'},{name:"literal",value:'"gray"'},{name:"literal",value:'"zinc"'},{name:"literal",value:'"neutral"'},{name:"literal",value:'"stone"'}]},{name:"CustomColor"},{name:"union",raw:'"success" | "warning" | "error" | "info"',elements:[{name:"literal",value:'"success"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"error"'},{name:"literal",value:'"info"'}]}]},description:"",defaultValue:{value:'"blue"',computed:!1}},require:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isInvalid:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},className:{defaultValue:{value:'""',computed:!1},required:!1}},composes:["Omit"]};export{H as P};
