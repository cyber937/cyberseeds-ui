"use client";
import{r as v,j as g}from"./iframe-Cwvb0Z0D.js";import{f as z}from"./colorMap-EN3et11X.js";import{i as T,c as B}from"./colorUtils-B5Tad61Q.js";import{u as E}from"./FormFieldContext-DaikLai8.js";import{L as K}from"./Label-Dci0iaZ3.js";import{u as M}from"./useUIColor-BTIPPGSW.js";const D=d=>{if(d===void 0)return"";const l=d.replace(/\D/g,"");return l.length===0?"":l.length<=2?`(${l}`:l.length<=5?`(${l.slice(0,3)}) ${l.slice(3)}`:`(${l.slice(0,3)}) ${l.slice(3,6)}-${l.slice(6,10)}`},O={sm:"cs:px-2 cs:py-1 cs:text-xs",md:"cs:px-3 cs:py-1.5 cs:text-sm/6"};function _({label:d,scale:l="md",color:h="blue",require:R=!1,isInvalid:S=!1,value:y,onChange:s,id:$,className:q="",...b}){const P=v.useId(),e=E(),w=$??(e==null?void 0:e.id)??P,p=v.useRef(null),{color:j}=M()??{color:void 0},f=j??h,x=S||(e==null?void 0:e.isInvalid)||!1,V=b.disabled||(e==null?void 0:e.isDisabled)||!1,k=l??(e==null?void 0:e.scale)??"md",N=e?[e.errorId,e.helpId].join(" "):void 0,C=T(f)?void 0:B(f),L=v.useCallback(i=>{const m=i.currentTarget,a=m.value,n=m.selectionStart||0,r=a.replace(/\D/g,"").slice(0,10),o=D(r);let c=0;for(let u=0;u<n;u++)/\d/.test(a[u])&&c++;let t=0,I=0;for(;t<o.length&&I<c;)/\d/.test(o[t])&&I++,t++;for(;t<o.length&&/[)\s-]/.test(o[t]);)t++;s==null||s(r),setTimeout(()=>{var u;(u=p.current)==null||u.setSelectionRange(t,t)},0)},[s]),U=v.useCallback(i=>{if(i.key==="Backspace"){const m=i.currentTarget,a=m.selectionStart??0,n=m.value;if(a>0&&[")","-"].includes(n[a-1])){i.preventDefault();const r=a-1,c=(n.slice(0,r-1)+n.slice(a)).replace(/\D/g,"");s==null||s(c.slice(0,10)),setTimeout(()=>{var t;(t=p.current)==null||t.setSelectionRange(r-1,r-1)},0)}if(a>0&&n[a-1]===" "&&n[a-2]===")"){i.preventDefault();const r=a-2,c=(n.slice(0,r-1)+n.slice(a)).replace(/\D/g,"");s==null||s(c.slice(0,10)),setTimeout(()=>{var t;(t=p.current)==null||t.setSelectionRange(r-1,r-1)},0)}}},[s]);return g.jsxs("div",{children:[d&&g.jsx(K,{htmlFor:w,text:d,scale:k,className:"cs:ml-2",require:R}),g.jsx("input",{ref:p,id:w,type:"tel","aria-invalid":x||void 0,"aria-describedby":N,disabled:V||void 0,value:y?D(String(y)):"",onChange:L,onKeyDown:U,placeholder:"(123) 456-7890",maxLength:16,style:C,className:`cs:block cs:w-full cs:rounded-md cs:disabled:bg-amber-100 cs:disabled:text-gray-400 cs:font-sans cs:outline-1 placeholder:cs:text-gray-400 cs:dark:bg-gray-800 cs:text-gray-900 cs:dark:text-gray-200 cs:-outline-offset-1 cs:outline-gray-300 cs:placeholder:text-gray-400 cs:focus:outline-2 cs:focus:-outline-offset-2 cs:dark:disabled:text-gray-800 cs:transition-colors cs:duration-200 cs:ease-in-out ${x?"cs:text-red-400 cs:bg-red-100/50 cs:outline-red-300 cs:dark:bg-red-200 cs:dark:text-red-500":"cs:text-gray-900 cs:bg-white cs:dark:bg-gray-800 cs:outline-gray-300"} ${O[k]} ${T(f)?z[f]:"cs-custom-focus"} ${q}`,...b})]})}_.__docgenInfo={description:"",methods:[],displayName:"PhoneInput",props:{label:{required:!1,tsType:{name:"string"},description:""},scale:{required:!1,tsType:{name:"union",raw:'"sm" | "md"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'}]},description:"",defaultValue:{value:'"md"',computed:!1}},color:{required:!1,tsType:{name:"union",raw:"PresetColor | CustomColor",elements:[{name:"union",raw:`| "red"
| "orange"
| "amber"
| "yellow"
| "lime"
| "green"
| "emerald"
| "teal"
| "cyan"
| "sky"
| "blue"
| "indigo"
| "violet"
| "purple"
| "fuchsia"
| "pink"
| "rose"
| "slate"
| "gray"
| "zinc"
| "neutral"
| "stone"`,elements:[{name:"literal",value:'"red"'},{name:"literal",value:'"orange"'},{name:"literal",value:'"amber"'},{name:"literal",value:'"yellow"'},{name:"literal",value:'"lime"'},{name:"literal",value:'"green"'},{name:"literal",value:'"emerald"'},{name:"literal",value:'"teal"'},{name:"literal",value:'"cyan"'},{name:"literal",value:'"sky"'},{name:"literal",value:'"blue"'},{name:"literal",value:'"indigo"'},{name:"literal",value:'"violet"'},{name:"literal",value:'"purple"'},{name:"literal",value:'"fuchsia"'},{name:"literal",value:'"pink"'},{name:"literal",value:'"rose"'},{name:"literal",value:'"slate"'},{name:"literal",value:'"gray"'},{name:"literal",value:'"zinc"'},{name:"literal",value:'"neutral"'},{name:"literal",value:'"stone"'}]},{name:"CustomColor"}]},description:"",defaultValue:{value:'"blue"',computed:!1}},require:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isInvalid:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},className:{defaultValue:{value:'""',computed:!1},required:!1}},composes:["Omit"]};export{_ as P};
